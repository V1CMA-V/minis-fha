<div
  class="relative h-dvh w-full max-w-[100vw] md:aspect-video md:h-[80vh] xl:h-full"
>
  <div
    class="absolute inset-0 h-full justify-center z-10 m-auto flex flex-col items-center w-full"
  >
    <section
      class="absolute z-10 animate-blurred-fade-in flex justify-center items-center gap-8 flex-col"
    >
      <h1
        id="sobre-nosotros"
        class="flex items-center gap-5 text-4xl md:text-6xl lg:gap-20 lg:text-8xl"
      >
        <span>M</span>
        <span>I</span>
        <span>N</span>
        <span>I</span>
        <span>S</span>
        <span>F</span>
        <span>H</span>
        <span>A</span>
      </h1>

      <p
        class="subtitle text-xl lg:text-2xl text-center text-wrap font-jura px-4 text-white/80"
      >
        Donde los Campeones Comienzan: Tu Compa√±ero Perfecto te Espera
      </p>
    </section>
  </div>
  <video
    autoplay
    loop
    muted
    playsinline
    id="main-video"
    preload="metadata"
    class="video hidden cp-v h-full w-full object-cover object-top animate-duration-[2s] animate-ease-in-out"
  >
    <source src="/video-intro-minisfha.mp4" type="video/mp4" />
  </video>
  <video
    class="video hidden absolute -bottom-48 -z-40 blur-3xl animate-duration-[2s] animate-ease-in-out"
    autoplay
    loop
    muted
    preload="metadata"
  >
    <source src="/video-intro-minisfha.mp4" type="video/mp4" />
  </video>
</div>

<script>
  document.addEventListener('astro:page-load', () => {
    const firstVideo = document.querySelector('#main-video') as HTMLMediaElement

    if (firstVideo) {
      const videos = document.querySelectorAll(
        '.video'
      ) as NodeListOf<HTMLMediaElement>

      if (firstVideo.readyState >= 3) {
        videos.forEach((videoEl) => {
          videoEl.classList.remove('hidden')
          videoEl.classList.add('animate-fade')
        })

        return
      }

      firstVideo.addEventListener('loadeddata', () => {
        videos.forEach((videoEl) => {
          videoEl.classList.remove('hidden')
          videoEl.classList.add('animate-fade')
        })
      })
    }
  })
</script>

<style>
  .subtitle {
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
  }
</style>
